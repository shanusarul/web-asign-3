<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Edit Site: <%= site.site %></title>
    <link rel="stylesheet" href="/css/main.css">
</head>
<body class="bg-gray-100">

    <!-- Include the navbar partial -->
    <%- include('partials/navbar', {page: ''}) %>

    <!-- Hero Section -->
    <div class="hero bg-base-200 rounded-lg p-8 mb-8">
        <div class="hero-content text-center">
            <div class="max-w-md">
                <h1 class="text-5xl font-bold">Edit Site</h1>
                <p class="py-6">Edit <%= site.site %></p>
            </div>
        </div>
    </div>

    <!-- Edit Site Form -->
    <div class="container mx-auto p-4">
        <form action="/editSite" method="POST" class="max-w-lg mx-auto bg-white p-8 rounded-lg shadow-md">
            <div class="form-control w-full">
                <label class="label" for="siteId">
                    <span class="label-text">Site ID</span>
                </label>
                <input type="text" name="siteId" value="<%= site.siteId %>" readonly class="input input-bordered w-full cursor-not-allowed bg-gray-100" />
            </div>

            <div class="form-control w-full">
                <label class="label" for="site">
                    <span class="label-text">Site Name</span>
                </label>
                <input type="text" name="site" value="<%= site.site %>" required class="input input-bordered w-full" />
            </div>

            <div class="form-control w-full">
                <label class="label" for="image">
                    <span class="label-text">Image URL</span>
                </label>
                <input type="url" name="image" value="<%= site.image %>" required class="input input-bordered w-full" />
            </div>

            <div class="form-control w-full">
                <label class="label" for="date">
                    <span class="label-text">Date</span>
                </label>
                <input type="number" name="date" value="<%= site.date %>" required class="input input-bordered w-full" />
            </div>

            <div class="form-control w-full">
                <label class="label" for="dateType">
                    <span class="label-text">Date Type</span>
                </label>
                <input type="text" name="dateType" value="<%= site.dateType %>" required class="input input-bordered w-full" />
            </div>

            <div class="form-control w-full">
                <label class="label" for="designated">
                    <span class="label-text">Designated Year</span>
                </label>
                <input type="number" name="designated" value="<%= site.designated %>" required class="input input-bordered w-full" />
            </div>

            <div class="form-control w-full">
                <label class="label" for="location">
                    <span class="label-text">Location</span>
                </label>
                <input type="text" name="location" value="<%= site.location %>" required class="input input-bordered w-full" />
            </div>

            <div class="form-control w-full">
                <label class="label" for="provinceOrTerritoryCode">
                    <span class="label-text">Province/Territory</span>
                </label>
                <select name="provinceOrTerritoryCode" required class="select select-bordered w-full">
                    <% provincesAndTerritories.forEach(provOrTerr => { %>
                        <option value="<%= provOrTerr.code %>" <%= (site.provinceOrTerritoryCode == provOrTerr.code) ? "selected" : "" %>>
                            <%= provOrTerr.name %>
                        </option>
                    <% }) %>
                </select>
            </div>

            <div class="form-control w-full">
                <label class="label" for="description">
                    <span class="label-text">Description</span>
                </label>
                <textarea name="description" class="textarea textarea-bordered h-24"><%= site.description %></textarea>
            </div>

            <div class="form-control w-full">
                <label class="label" for="latitude">
                    <span class="label-text">Latitude</span>
                </label>
                <input type="number" step="0.00000001" name="latitude" value="<%= site.latitude %>" required class="input input-bordered w-full" />
            </div>

            <div class="form-control w-full">
                <label class="label" for="longitude">
                    <span class="label-text">Longitude</span>
                </label>
                <input type="number" step="0.00000001" name="longitude" value="<%= site.longitude %>" required class="input input-bordered w-full" />
            </div>

            <div class="form-control mt-6 flex flex-row gap-4">
                <button type="submit" class="btn btn-primary">Update Site</button>
                <a href="/deleteSite/<%= site.siteId %>" class="btn btn-error" onclick="return confirm('Are you sure you want to delete this site?');">Delete Site</a>
            </div>
        </form>
    </div>

</body>
</html>
